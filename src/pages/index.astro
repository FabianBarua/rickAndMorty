---
import { HomeSearch } from "@/components/HomeSearch";
import Layout from "../layouts/Layout.astro";
import HomeSection from "@/components/HomeSection.astro";
import { search } from "@/utils/services/rickAndMorty";

const { searchedCharacters, searchedEpisodes, searchedLocations } =
  await search({
    searchValue: null,
    searchCharacters: true,
    searchEpisodes: true,
    searchLocations: true,
    searchAll: true,
    page: 1,
  });

export const prerender = true;
---

<Layout title="Home ðŸ§ª">
  <HomeSection />
  <HomeSearch
    initialCharacters={searchedCharacters}
    initialEpisodes={searchedEpisodes}
    initialLocations={searchedLocations}
    client:load
  />
</Layout>
